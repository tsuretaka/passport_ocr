# é–‹ç™ºãƒ­ã‚° - ãƒ‘ã‚¹ãƒãƒ¼ãƒˆOCRè»¢è¨˜ã‚·ã‚¹ãƒ†ãƒ  (passport_ocr)

## 2026-01-31
- **æ–°è¦ä½œæˆ**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç«‹ã¡ä¸Šã’
    - `res_card_ocr` ã‚’ãƒ™ãƒ¼ã‚¹ã«ã€ãƒ‘ã‚¹ãƒãƒ¼ãƒˆèª­ã¿å–ã‚Šå°‚ç”¨ã‚¢ãƒ—ãƒªã‚’ä½œæˆã€‚
    - **æ©Ÿèƒ½å®Ÿè£…**:
        1. **ãƒ‘ã‚¹ãƒãƒ¼ãƒˆèª­ã¿å–ã‚Š**: MRZï¼ˆæ©Ÿæ¢°èª­å–é ˜åŸŸï¼‰ã®è§£æãƒ­ã‚¸ãƒƒã‚¯ (`ocr_utils.py`) ã‚’å®Ÿè£…ã€‚
        2. **Excelè»¢è¨˜**: èª­ã¿å–ã£ãŸãƒ‡ãƒ¼ã‚¿ã‚’Excelãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã™ã‚‹æ©Ÿèƒ½ (`excel_utils.py`) ã‚’å®Ÿè£…ã€‚
        3. **ä¸€æ‹¬å‡¦ç†**: ãƒ•ã‚©ãƒ«ãƒ€æŒ‡å®šã«ã‚ˆã‚‹ç”»åƒã®Batch OCRå‡¦ç†ã‚’å®Ÿè£…ã€‚
        4. **ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½**: `streamlit-authenticator` ã‚’ä½¿ç”¨ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«ä¿å­˜ãƒ•ã‚©ãƒ«ãƒ€ (`./data/userX`) ã‚’åˆ†é›¢ã€‚
    - **ãƒã‚°ä¿®æ­£**: `streamlit-authenticator` ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³äº’æ›æ€§å•é¡Œï¼ˆ`preauthorized` å¼•æ•°ã®å‰Šé™¤ã€`st.session_state` ãƒ™ãƒ¼ã‚¹ã®ãƒ­ã‚°ã‚¤ãƒ³åˆ¤å®šã¸ã®å¤‰æ›´ï¼‰ã‚’ä¿®æ­£ã€‚

- **æ©Ÿèƒ½æ”¹å–„**: OCRç²¾åº¦å‘ä¸Šã¨é …ç›®è¿½åŠ 
    - **ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰è§£æ**: Google Vision APIã®åº§æ¨™æƒ…å ±(`text_annotations`)ã‚’æ´»ç”¨ã—ã€MRZï¼ˆä¸‹éƒ¨ã‚³ãƒ¼ãƒ‰ï¼‰ã ã‘ã§ãªãåˆ¸é¢(VIZ)ã®é…ç½®è§£æã‚’å–ã‚Šå…¥ã‚ŒãŸã€Œãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰OCRã€ã¸ç§»è¡Œã€‚
    - **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå¯¾å¿œ**: æ—¥æœ¬ã®ãƒ‘ã‚¹ãƒãƒ¼ãƒˆï¼ˆç‰¹ã«2020å¹´ç‰ˆï¼‰ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç‰¹æ€§ï¼ˆé …ç›®åã®ä¸‹ã«å€¤ãŒã‚ã‚‹ã€"Expiry"ãªã©ã®é…ç½®ï¼‰ã«åˆã‚ã›ã€æ¤œç´¢ãƒ­ã‚¸ãƒƒã‚¯ã‚’æœ€é©åŒ–ã€‚
    - **é …ç›®è¿½åŠ **: ã€Œæœ¬ç± (Registered Domicile)ã€ã¨ã€Œç™ºè¡Œå¹´æœˆæ—¥ (Date of issue)ã€ã®è‡ªå‹•èª­ã¿å–ã‚Šã‚’è¿½åŠ ã€‚
    - **ãƒ‡ãƒ¼ã‚¿è£œæ­£**: å›½ç±ã®å³æ ¼åŒ–ï¼ˆJPNã®ã¿æŠ½å‡ºï¼‰ã€æœ¬ç±ã®ãƒã‚¤ã‚ºé™¤å»ï¼ˆ`*`å‰Šé™¤ï¼‰ã€æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®çµ±ä¸€ã‚’å®Ÿæ–½ã€‚
    - **Excelãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**: ä¿å­˜é …ç›®ãŒå¢—ãˆãŸéš›ã«ã€æ—¢å­˜ã®Excelãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•çš„ã«æ–°ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆåˆ—è¿½åŠ ãƒ»ä¸¦ã³æ›¿ãˆï¼‰ã«æ›´æ–°ã™ã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ ã€‚
    - **çµæœ**: ã‚µãƒ³ãƒ—ãƒ«ç”»åƒ3æšï¼ˆHEIC/PNGå«ã‚€ï¼‰ã«ã¦ã€æ—…åˆ¸ç•ªå·ãƒ»æ°åãƒ»æ—¥ä»˜ãƒ»æœ¬ç±ãªã©å…¨é …ç›®ã®ã€Œå®Œç’§ãªèª­ã¿å–ã‚Šã€ã‚’ç¢ºèªã€‚

- **æ©Ÿèƒ½è¿½åŠ ãƒ»ä»•æ§˜å¤‰æ›´ (Cloud/Secure Mode)**:
    - **æœ¬ç±èª­ã¿å–ã‚Šæ”¹å–„**: ã€Œç™ºè¡Œå¹´æœˆæ—¥ã€ãªã©ã®éš£æ¥ãƒ©ãƒ™ãƒ«ãŒæ··å…¥ã™ã‚‹å•é¡Œã‚’ä¿®æ­£ã—ã€ç²¾åº¦ã‚’å‘ä¸Šã€‚
    - **æ¸¡èˆªè¦ä»¶ãƒã‚§ãƒƒã‚¯**: ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã‚¿ãƒ–ã«ã€Œå…¥å›½æ—¥ã€ã¨ã€Œå¿…è¦æ®‹å­˜æ—¥æ•°ã€ã‹ã‚‰ãƒ‘ã‚¹ãƒãƒ¼ãƒˆæœ‰åŠ¹æœŸé™ã‚’åˆ¤å®šã™ã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ ã€‚
    - **ã‚¯ãƒ©ã‚¦ãƒ‰é‹ç”¨å¯¾å¿œ**:
        - **ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªå‡¦ç†**: ãƒ‡ãƒ¼ã‚¿ä¿å­˜å…ˆã‚’ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ¡ãƒ¢ãƒªã«å¤‰æ›´ï¼ˆå€‹äººæƒ…å ±ä¿è­·ï¼‰ã€‚
        - **ä¸€æ‹¬ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**: ãƒ•ã‚©ãƒ«ãƒ€ãƒ‘ã‚¹æŒ‡å®šã‚’å»ƒæ­¢ã—ã€ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ã«ã‚ˆã‚‹è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã¸å¤‰æ›´ã€‚
        - **ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¿…é ˆåŒ–**: å‡¦ç†çµæœã‚’Excelãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã€‚

> **ğŸš§ ä½œæ¥­ä¸­æ–­ (2026-01-31)**
> **çŠ¶æ³**: Streamlit Cloudã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ä¸­ã€‚Privateãƒªãƒã‚¸ãƒˆãƒªã®å‚ç…§æ¨©é™ã‚¨ãƒ©ãƒ¼ã§ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå®Œäº†ã—ã¦ã„ãªã„çŠ¶æ…‹ã€‚
> **æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**: 
> 1. GitHubã®æ¨©é™è¨­å®šã‚’ä¿®æ­£ã™ã‚‹ï¼ˆã¾ãŸã¯ãƒªãƒã‚¸ãƒˆãƒªã‚’Publicã«ã™ã‚‹ï¼‰ã€‚
> 2. Streamlit Cloudã§ã€ŒCreate appã€ã‚’å†è©¦è¡Œã€‚
> 3. Advanced Settingsã®Secretsã« `secrets_for_deployment.toml` ã®å†…å®¹ã‚’è¨­å®šã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†ã•ã›ã‚‹ã€‚
